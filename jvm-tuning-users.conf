# JVM Configuration for ERP System - 200-300 Concurrent Users
# Add these JVM arguments when starting your application server

# Memory Settings (Optimized for 200-300 users)
-Xms3072m
-Xmx6144m
-XX:MetaspaceSize=512m
-XX:MaxMetaspaceSize=1024m

# Garbage Collection Settings (G1GC for low-latency, high-throughput)
-XX:+UseG1GC
-XX:MaxGCPauseMillis=100
-XX:G1HeapRegionSize=32m
-XX:G1NewSizePercent=40
-XX:G1MaxNewSizePercent=50
-XX:G1MixedGCCountTarget=8
-XX:InitiatingHeapOccupancyPercent=35

# Performance Optimizations
-XX:+UseBiasedLocking
-XX:+OptimizeStringConcat
-XX:+UseStringDeduplication
-XX:+UseCompressedOops
-XX:+UseCompressedClassPointers

# Thread and Concurrency Settings (Enhanced for 200-300 users)
-XX:ConcGCThreads=6
-XX:ParallelGCThreads=12
-XX:+UseLargePages
-XX:LargePageSizeInBytes=2m

# Memory Management for High Concurrency
-XX:+AlwaysPreTouch
-XX:+UseTransparentHugePages
-XX:+UnlockExperimentalVMOptions
-XX:+UseCGroupMemoryLimitForHeap

# Cache and Performance Optimizations
-XX:+AggressiveOpts
-XX:+UseG1OptEagerReclaim
-XX:+UseG1MixedGCLiveThresholdPercent=85

# Monitoring and Debugging (Enable for production monitoring)
-XX:+PrintGC
-XX:+PrintGCDetails
-XX:+PrintGCTimeStamps
-XX:+PrintGCApplicationStoppedTime
-Xloggc:logs/gc.log
-XX:+UseGCLogFileRotation
-XX:NumberOfGCLogFiles=5
-XX:GCLogFileSize=10M

# JMX Monitoring (for performance monitoring tools)
-Dcom.sun.management.jmxremote
-Dcom.sun.management.jmxremote.port=9999
-Dcom.sun.management.jmxremote.authenticate=false
-Dcom.sun.management.jmxremote.ssl=false

# Application-specific settings
-Dfile.encoding=UTF-8
-Duser.timezone=UTC
-Djava.awt.headless=true
-Djava.security.egd=file:/dev/./urandom

# Connection Pool and Database Optimizations
-Dhikaricp.maxPoolSize=150
-Dhikaricp.minimumIdle=25
-Dpostgresql.defaultRowFetchSize=100

# Cache Settings for EHCache
-Dnet.sf.ehcache.skipUpdateCheck=true
-Dnet.sf.ehcache.disabled=false

# Example startup command:
# java -server @jvm-tuning-200-300-users.conf -jar your-application.war
